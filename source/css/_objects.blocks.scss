/*------------------------------------*\
    $BLOCKS
\*------------------------------------*/

// Block
.block__image {
  display: block;

  picture img {
    width: 100%;
  }
}

.block__image-wrap {
  > * {
    width: 100%;
  }
  .u-round {
    width: auto;
  }
}

.block__category {
  padding-right: $pad;

  @include media('>large') {
    padding-right: $pad*2;
  }
}

.block__meta {
  display: flex;
  align-items: flex-end;
}

.block__date {
  white-space: nowrap;
}

.block__description {
  flex-grow: 1;
  align-items: flex-end;
}

@mixin block-row {
  display: flex;

  .block__image-wrap {
    width: 30%;
    max-width: 300px;
    text-align: right;
  }

  .block__content {
    width: 70%;
    padding-left: $pad;
    align-self: center;

    .u-rtl & {
      padding-left: 0;
      padding-right: $pad;
    }
  }
}

/**
 * Block row (block with left thumb and right text when space allows)
 */
.block__row {
  @include media('>small') {
    @include block-row;
  }
}

// Horizontal block between 'small' and 'medium' viewports.
.block__row--small-to-medium {
  @include media('>small', '<=medium') {
    @include block-row;
  }
}

// Horizontal block between 'small' and 'large' viewports.
.block__row--small-to-large {
  @include media('>small', '<=large') {
    @include block-row;
  }
}

// Blocks that breakout of of their layout.
.block--breakout {
  @include media('>large') {
    margin-top: -$space;
    margin-left: -$space;
    margin-right: -$space;
  }

  &.l-shift--reversed:not(.keep-top-space) {
    margin-top: 0;
  }
}

/**
 * Story Block
 */
.story-block__image-wrap {
  width: rem(130);
  height: rem(130);

  @include media('>small') {
    float: left;
  }
}

.story-block__content {
  @include media('>small') {
    padding-left: rem(150);
  }

  @include media('>medium') {
    padding-left: rem(160);
  }
}

.story-block__text-image-wrap {
  max-width: rem(200);
  line-height: 1;
  display: block;

  @include media('>medium') {
    float: right;
    margin-left: $space;
  }
}

/**
 * Media Block
 */
 .media-block {
   display: flex;
   flex-direction: row;

   .block__content {
     display: flex;
     justify-content: space-between;
     flex-wrap: wrap;
     flex-direction: column;
     padding: $pad;
   }

   .block__meta {
     display: flex;
     justify-content: flex-start;
   }
 }

 .block__stacked {
   flex-direction: column;
   border-left: 1px solid $c-black;
 }

.block__inset {
  display: block;
  position: relative;

  .block__content {
    flex-direction: row;
    position: absolute;
    justify-content: flex-start;
    bottom: 0;
    left: 0;
    background: linear-gradient(to bottom, transparent, rgba($c-black, 0.5) 80%);
    padding-left: 0;
    padding-right: 0;

    .block__title-link,
    .block__date {
      color: $c-white;
    }
  }
}
